{"title": "Kubectl to a microK8s inside VirtualBox", "content": "<ol>\n<li>export kubectl config</li>\n</ol>\n<pre><code data-enlighter-language=\"null\">microk8s.kubectl config view &gt; .kubeconfig</code></pre>\n<p>2. set port forwarding</p>\n<p><a href=\"https://emolike.net/wp-content/uploads/2020/03/Screenshot-from-2020-03-07-20-35-39.png\"><img class=\"alignnone size-full wp-image-1601\" src=\"https://emolike.net/wp-content/uploads/2020/03/Screenshot-from-2020-03-07-20-35-39.png\" alt=\"\" width=\"700\" height=\"497\" srcset=\"https://emolike.net/wp-content/uploads/2020/03/Screenshot-from-2020-03-07-20-35-39.png 700w, https://emolike.net/wp-content/uploads/2020/03/Screenshot-from-2020-03-07-20-35-39-300x213.png 300w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></a></p>\n<p>3. copy the .kubeconfig to the host .kube/config file</p>\n<p>4. remove certificate</p>\n<pre><code data-enlighter-language=\"null\">certificate-authority-data: DATA+OMITTED</code></pre>\n<p>5. add not verify</p>\n<pre><code data-enlighter-language=\"null\">apiVersion: v1\r\nclusters:\r\n- cluster:\r\n    server: https://127.0.0.1:16443\r\n    insecure-skip-tls-verify: true\r\n  name: microk8s-cluster\r\ncontexts:\r\n- context:\r\n    cluster: microk8s-cluster\r\n    user: admin\r\n  name: microk8s\r\ncurrent-context: microk8s\r\nkind: Config\r\npreferences: {}\r\nusers:\r\n- name: admin\r\n  user:\r\n    password: VEpLSzdzaVQvMWNTaU1SSFVOeFc3OE9xZGdNeE5uUVFPR0kzMWp2cThMbz0K\r\n    username: admin\r\n</code></pre>\n<p>6. Run it</p>\n<pre><code data-enlighter-language=\"null\">kubectl get all --all-namespaces</code></pre>\n<p> </p>\n<p> </p>\n", "slug": "kubectl-to-a-microk8s-inside-virtualbox", "date": 1583617150, "cats": [0, 3, 4, 5]}