{"title": "Linux Manjaro Switching from BIOS to UEFI", "content": "<p>For UEFI install the Disk partition table should be of type\u00a0<b>GPT (Guid Partition Table).</b></p>\n<p>If you dont want to format your hard disk to GPT, but instead want to migrate from MBR to GPT while trying to save your data, can have a look at\u00a0<a class=\"external free\" href=\"http://www.rodsbooks.com/gdisk/mbr2gpt.html\" rel=\"nofollow\">http://www.rodsbooks.com/gdisk/mbr2gpt.html</a></p>\n<h4>\n1) You would need to create an\u00a0<i>ESP (EFI System Partition)</i>.</h4>\n<p>It is a FAT32 partition which has the .efi files for booting, which you can create using Gparted or gdisk. (Size 200-512 MiB).</p>\n<p>You would also need to install/check whether following packages are present-</p>\n<pre>1. efibootmgr\r\n2. dosfstools\r\n3. grub\r\n</code></pre>\n<p><a title=\"Pacman Overview\" href=\"https://wiki.manjaro.org/index.php?title=Pacman_Overview\">(How to install packages)</a></p>\n<h4>\n2) Create the\u00a0<i>/boot/efi</i>\u00a0directory</h4>\n<pre><code data-enlighter-language=\"null\">sudo mkdir /boot/efi\r\n</code></pre>\n<h4>3.) Mount the EFI partition as\u00a0<i>/boot/efi</i></h4>\n<pre><code data-enlighter-language=\"null\">sudo mount /dev/sdXY /boot/efi\r\n</code></pre>\n<p>X = Alphabet of the drive = a,b,c &#8230; Y = Partition number of the EFI partition = 1,2,3,4&#8230;</p>\n<p>Example -\u00a0<i>/dev/sda4</i></p>\n<h4>\n4.) Install Grub according to UEFI</h4>\n<pre><code data-enlighter-language=\"null\">sudo grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=manjaro --recheck\r\n</code></pre>\n<h4>5.) Update Grub configuration file.</h4>\n<pre><code data-enlighter-language=\"null\">sudo update-grub\r\n</code></pre>\n<p><b>Note-</b>\u00a0If you get an error like</p>\n<pre><code data-enlighter-language=\"null\">path '/boot/grub' is not readable by Grub on boot. Installation is impossible. Aborting\r\n</code></pre>\n<p>Then you will need to\u00a0<a class=\"external text\" href=\"https://wiki.archlinux.org/index.php/Change_Root\" rel=\"nofollow\">chroot</a>\u00a0as described\u00a0<a title=\"Restore the GRUB Bootloader\" href=\"https://wiki.manjaro.org/index.php?title=Restore_the_GRUB_Bootloader#Identify_and_Prepare_the_Installed_Partition.28s.29\">here</a>, and then perform Step 5 again.</p>\n<p>If you get the following error\u00a0:</p>\n<pre><code data-enlighter-language=\"null\">EFI variables are not supported on this system.\r\n</code></pre>\n<p>then you could load the\u00a0<b>efivarfs</b>\u00a0module\u00a0:</p>\n<pre><code data-enlighter-language=\"null\">sudo modprobe efivarfs\r\n</code></pre>\n<p>Source :\u00a0<a href=\"https://wiki.manjaro.org/index.php?title=UEFI_-_Install_Guide\">https://wiki.manjaro.org/index.php?title=UEFI_-_Install_Guide</a></p>\n", "slug": "linux-manjaro-switching-from-bios-to-uefi", "date": 1546606511, "cats": [3, 4]}