{"title": "The Unstated React Service Pattern", "content": "<figure id=\"2c5d\" class=\"graf graf--figure graf-after--h3\">\n<div class=\"aspectRatioPlaceholder is-locked\">\n<div class=\"progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded\" data-image-id=\"1*rAMvk--gDy8YI6vXsaCl_Q.png\" data-width=\"1687\" data-height=\"945\" data-action=\"zoom\" data-action-value=\"1*rAMvk--gDy8YI6vXsaCl_Q.png\" data-scroll=\"native\"><img class=\"alignnone size-full wp-image-1206\" src=\"https://emolike.net/wp-content/uploads/2018/12/1rAMvk-gDy8YI6vXsaCl_Q.png\" width=\"1000\" height=\"560\" srcset=\"https://emolike.net/wp-content/uploads/2018/12/1rAMvk-gDy8YI6vXsaCl_Q.png 1000w, https://emolike.net/wp-content/uploads/2018/12/1rAMvk-gDy8YI6vXsaCl_Q-300x168.png 300w, https://emolike.net/wp-content/uploads/2018/12/1rAMvk-gDy8YI6vXsaCl_Q-768x430.png 768w, https://emolike.net/wp-content/uploads/2018/12/1rAMvk-gDy8YI6vXsaCl_Q-482x270.png 482w\" sizes=\"(max-width: 1000px) 100vw, 1000px\" /></div>\n</div>\n</figure>\n<p id=\"01a2\" class=\"graf graf--p graf-after--figure\">This guide demonstrates a React Pattern for sharing global state, without requiring any of the following:</p>\n<ul class=\"postList\">\n<li id=\"23ef\" class=\"graf graf--li graf-after--p\">\ud83d\ude12 Prop-Drilling</li>\n<li id=\"e9ac\" class=\"graf graf--li graf-after--li\">\ud83d\udd25 Redux</li>\n<li id=\"0528\" class=\"graf graf--li graf-after--li\">\ud83d\udcb2 MobX</li>\n<li id=\"b7b3\" class=\"graf graf--li graf-after--li\">\ud83c\udfc0 Apollo Link State</li>\n</ul>\n<p id=\"c571\" class=\"graf graf--p graf-after--li\"><em class=\"markup--em markup--p-em\">(The above emojis were auto-selected by\u00a0</em><a class=\"markup--anchor markup--p-anchor\" href=\"https://github.com/sindresorhus/emoj\" target=\"_blank\" rel=\"noopener\" data-href=\"https://github.com/sindresorhus/emoj\"><em class=\"markup--em markup--p-em\">Emoj</em></a><em class=\"markup--em markup--p-em\">)</em></p>\n<h3 id=\"bdcf\" class=\"graf graf--h3 graf-after--p\">The Context\u00a0API</h3>\n<p id=\"b5b7\" class=\"graf graf--p graf-after--h3\">Recently I found myself at an\u00a0<a class=\"markup--anchor markup--p-anchor\" href=\"https://reacttraining.com/\" target=\"_blank\" rel=\"noopener\" data-href=\"https://reacttraining.com/\">Advanced React</a>\u00a0Training with\u00a0<a class=\"markup--anchor markup--p-anchor\" href=\"https://github.com/mjackson\" target=\"_blank\" rel=\"noopener\" data-href=\"https://github.com/mjackson\">Michael Jackson</a>(no\u2026\u00a0<em class=\"markup--em markup--p-em\">not the King of Pop</em>, the King of\u00a0<a class=\"markup--anchor markup--p-anchor\" href=\"https://github.com/ReactTraining/react-router\" target=\"_blank\" rel=\"noopener\" data-href=\"https://github.com/ReactTraining/react-router\">React Router</a>\u00a0\ud83d\ude09). We spent a good deal of the time working through Higher Order components and the new React Context API.</p>\n<p id=\"88fa\" class=\"graf graf--p graf-after--p\">Being so new to\u00a0<em class=\"markup--em markup--p-em\">The React Way</em>, (yet so familiar with frameworks like Angular), I was surprised that React didn\u2019t ship with any built-in service architecture. React is a very different beast to other frameworks. It is intentionally designed to be\u00a0<em class=\"markup--em markup--p-em\">all-state</em>\u00a0and\u00a0<em class=\"markup--em markup--p-em\">no-service</em>.</p>\n<p id=\"c59b\" class=\"graf graf--p graf-after--p\">If you want to learn more about the React Context API, I recommend reading:</p>\n<ol class=\"postList\">\n<li id=\"cfea\" class=\"graf graf--li graf-after--p\">Docs:\u00a0<a class=\"markup--anchor markup--li-anchor\" href=\"https://reactjs.org/docs/context.html\" target=\"_blank\" rel=\"noopener\" data-href=\"https://reactjs.org/docs/context.html\">The React Context API</a></li>\n<li id=\"4a74\" class=\"graf graf--li graf-after--li\">Blog:\u00a0<a class=\"markup--anchor markup--li-anchor\" href=\"https://hackernoon.com/how-to-use-the-new-react-context-api-fce011e7d87\" target=\"_blank\" rel=\"noopener\" data-href=\"https://hackernoon.com/how-to-use-the-new-react-context-api-fce011e7d87\">How to use the new React Context API</a><br />\n<em class=\"markup--em markup--li-em\">I found this blog post easier to understand than the examples in the React documentation\u200a\u2014\u200aperhaps because I\u2019m still on the React learning curve.</em></li>\n</ol>\n<p id=\"4b96\" class=\"graf graf--p graf-after--li\">IMO: The fact that React is now shipping the Context API as a first-class citizen, means that a subscribing to\u00a0<em class=\"markup--em markup--p-em\">global state\u00a0</em>(to use the term loosely), is no longer considered an anti-pattern. React is now providing a de-facto way of sharing state within the React tree without some of the limitations of higher order components.</p>\n<h3 id=\"581d\" class=\"graf graf--h3 graf--startsWithDoubleQuote graf-after--p\">\u201cUnstated\u201d Dependency Injection</h3>\n<figure id=\"9eb6\" class=\"graf graf--figure graf--layoutOutsetLeft graf-after--h3\" data-scroll=\"native\">\n<div class=\"aspectRatioPlaceholder is-locked\">\n<div class=\"aspectRatioPlaceholder-fill\"></div>\n<div class=\"progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded\" data-image-id=\"1*yViPeWhv8-eGP89lU9pdjg.png\" data-width=\"2000\" data-height=\"479\" data-action=\"zoom\" data-action-value=\"1*yViPeWhv8-eGP89lU9pdjg.png\" data-scroll=\"native\"><canvas class=\"progressiveMedia-canvas js-progressiveMedia-canvas\" width=\"75\" height=\"17\"></canvas><img class=\"alignnone size-full wp-image-1207\" src=\"https://emolike.net/wp-content/uploads/2018/12/1yViPeWhv8-eGP89lU9pdjg.png\" width=\"750\" height=\"179\" srcset=\"https://emolike.net/wp-content/uploads/2018/12/1yViPeWhv8-eGP89lU9pdjg.png 750w, https://emolike.net/wp-content/uploads/2018/12/1yViPeWhv8-eGP89lU9pdjg-300x72.png 300w, https://emolike.net/wp-content/uploads/2018/12/1yViPeWhv8-eGP89lU9pdjg-604x144.png 604w\" sizes=\"(max-width: 750px) 100vw, 750px\" /></div>\n</div>\n</figure>\n<p id=\"e1b9\" class=\"graf graf--p graf-after--figure\">But, the React Context API does not provide a method of dependency injection.</p>\n<p id=\"5a76\" class=\"graf graf--p graf-after--p\">Dependency injection would allow us to instantiate multiple copies of a component with a discrete state that can be provided and consumed at any point in the app.</p>\n<p id=\"df72\" class=\"graf graf--p graf-after--p\">This pattern is useful for:</p>\n<ul class=\"postList\">\n<li id=\"45d6\" class=\"graf graf--li graf-after--p\">Identical components that subscribe to different data sources with the same model, using the same methods and state properties</li>\n<li id=\"bcea\" class=\"graf graf--li graf-after--li\">Testing snapshots with mock states</li>\n</ul>\n<p id=\"2971\" class=\"graf graf--p graf-after--li\">Thankfully, there is \u201c<a class=\"markup--anchor markup--p-anchor\" href=\"https://github.com/jamiebuilds/unstated\" target=\"_blank\" rel=\"noopener\" data-href=\"https://github.com/jamiebuilds/unstated\">Unstated</a>\u201c\u2014 a tiny dependency that provides a handy wrapper around the Context API for dependency injection. I want to encourage you to read the Unstated documentation and get a feel for what it does, as I will be using it in the code examples below:\u00a0<a class=\"markup--anchor markup--p-anchor\" href=\"https://github.com/jamiebuilds/unstated/blob/master/README.md\" target=\"_blank\" rel=\"noopener\" data-href=\"https://github.com/jamiebuilds/unstated/blob/master/README.md\">Unstated README.md</a></p>\n<p>To Continue Reading the post on\u00a0<a href=\"https://hmh.engineering/the-unstated-react-service-pattern-786ea6168d1d\">https://hmh.engineering/the-unstated-react-service-pattern-786ea6168d1d</a></p>\n", "slug": "the-unstated-react-service-pattern", "date": 1545487281, "cats": [18, 13, 29, 16, 14]}